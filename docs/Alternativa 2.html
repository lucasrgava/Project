<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lucas R. Gava, Iago Vieira">

<title>Análise de dados - Abordagem como Fatorial duplo com tratamento adicional em DBC</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Análise de dados</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-análise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Análise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-análise">    
        <li>
    <a class="dropdown-item" href="./Alternativa 1.html">
 <span class="dropdown-text">DBC simples</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Alternativa 2.html">
 <span class="dropdown-text">Fatorial 2x3+1 em DBC</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/lucasrgava">
 <span class="dropdown-text">Lucas R. Gava</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/Iagovieiira">
 <span class="dropdown-text">Iago Vieira</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-linkedin" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-linkedin">    
        <li>
    <a class="dropdown-item" href="https://www.linkedin.com/in/lucas-rom%C3%A3o-gava-8485aa241/">
 <span class="dropdown-text">Lucas R. Gava</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.linkedin.com/in/iago-vieira-b31315266/">
 <span class="dropdown-text">Iago Vieira</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#pacotes" id="toc-pacotes" class="nav-link active" data-scroll-target="#pacotes">Pacotes</a></li>
  <li><a href="#importando-os-bancos-de-dados" id="toc-importando-os-bancos-de-dados" class="nav-link" data-scroll-target="#importando-os-bancos-de-dados">Importando os bancos de dados</a></li>
  <li><a href="#variáveis-respostas" id="toc-variáveis-respostas" class="nav-link" data-scroll-target="#variáveis-respostas">Variáveis respostas</a>
  <ul class="collapse">
  <li><a href="#aacpd" id="toc-aacpd" class="nav-link" data-scroll-target="#aacpd">AACPD</a>
  <ul class="collapse">
  <li><a href="#ajuste-dos-dados" id="toc-ajuste-dos-dados" class="nav-link" data-scroll-target="#ajuste-dos-dados">Ajuste dos dados</a></li>
  <li><a href="#premissas" id="toc-premissas" class="nav-link" data-scroll-target="#premissas">Premissas</a></li>
  <li><a href="#anova-e-teste-de-tukey" id="toc-anova-e-teste-de-tukey" class="nav-link" data-scroll-target="#anova-e-teste-de-tukey">Anova e teste de Tukey</a></li>
  <li><a href="#teste-de-dunnett" id="toc-teste-de-dunnett" class="nav-link" data-scroll-target="#teste-de-dunnett">Teste de Dunnett</a></li>
  </ul></li>
  <li><a href="#y-máx" id="toc-y-máx" class="nav-link" data-scroll-target="#y-máx">Y máx</a>
  <ul class="collapse">
  <li><a href="#ajuste-dos-dados-1" id="toc-ajuste-dos-dados-1" class="nav-link" data-scroll-target="#ajuste-dos-dados-1">Ajuste dos dados</a></li>
  <li><a href="#premissas-1" id="toc-premissas-1" class="nav-link" data-scroll-target="#premissas-1">Premissas</a></li>
  <li><a href="#anova-e-teste-de-tukey-1" id="toc-anova-e-teste-de-tukey-1" class="nav-link" data-scroll-target="#anova-e-teste-de-tukey-1">Anova e teste de Tukey</a></li>
  <li><a href="#teste-de-dunnett-1" id="toc-teste-de-dunnett-1" class="nav-link" data-scroll-target="#teste-de-dunnett-1">Teste de Dunnett</a></li>
  </ul></li>
  <li><a href="#produtividade" id="toc-produtividade" class="nav-link" data-scroll-target="#produtividade">PRODUTIVIDADE</a>
  <ul class="collapse">
  <li><a href="#ajuste-dos-dados-2" id="toc-ajuste-dos-dados-2" class="nav-link" data-scroll-target="#ajuste-dos-dados-2">Ajuste dos dados</a></li>
  <li><a href="#premissas-2" id="toc-premissas-2" class="nav-link" data-scroll-target="#premissas-2">Premissas</a></li>
  <li><a href="#anova-e-teste-de-tukey-2" id="toc-anova-e-teste-de-tukey-2" class="nav-link" data-scroll-target="#anova-e-teste-de-tukey-2">Anova e teste de Tukey</a></li>
  <li><a href="#teste-de-dunnett-2" id="toc-teste-de-dunnett-2" class="nav-link" data-scroll-target="#teste-de-dunnett-2">Teste de Dunnett</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Abordagem como Fatorial duplo com tratamento adicional em DBC</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Lucas R. Gava, Iago Vieira </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="pacotes" class="level1">
<h1>Pacotes</h1>
<p>Pcotes utilizados no decorrer do código.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsheet)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(epifitter)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ExpDes.pt)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(agricolae)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AgroR)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(performance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importando-os-bancos-de-dados" class="level1">
<h1>Importando os bancos de dados</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dados de produtividade</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">gsheet2tbl</span>(<span class="st">'https://docs.google.com/spreadsheets/d/1KPWFOqs_Cclj3VgiHPxP3zazOmucRVAc/edit?gid=836516162#gid=836516162'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Dados de severidade</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> <span class="fu">gsheet2tbl</span>(<span class="st">'https://docs.google.com/spreadsheets/d/1KPWFOqs_Cclj3VgiHPxP3zazOmucRVAc/edit?gid=1484935950#gid=1484935950'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="variáveis-respostas" class="level1">
<h1>Variáveis respostas</h1>
<section id="aacpd" class="level2">
<h2 class="anchored" data-anchor-id="aacpd">AACPD</h2>
<section id="ajuste-dos-dados" class="level3">
<h3 class="anchored" data-anchor-id="ajuste-dos-dados">Ajuste dos dados</h3>
<p>Como na parcela foi avaliada 3 folhas por planta de 3 plantas, tem-se 9 valores por observação. Nesse caso, antes de prosseguir, vamos resumir esses valores em um único valor de severidade média. Dessa forma, reduzindo nosso banco de dados de 336 linhas para 112. Isso representa, 7 tratamentos, 4 blocos e 4 momentos de avaliação.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> dados2 <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sev.med =</span> <span class="fu">rowMeans</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">'sev_f'</span>)))) <span class="sc">|&gt;</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(treat, block, assessment) <span class="sc">|&gt;</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sev.med =</span> <span class="fu">mean</span>(sev.med))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>dados2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 112 × 4
# Groups:   treat, block [28]
   treat     block assessment sev.med
   &lt;chr&gt;     &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;
 1 FOX V6/V8     1          1  0.0444
 2 FOX V6/V8     1          2  0.167 
 3 FOX V6/V8     1          3  1.84  
 4 FOX V6/V8     1          4  7.24  
 5 FOX V6/V8     2          1  0.0222
 6 FOX V6/V8     2          2  0.111 
 7 FOX V6/V8     2          3  2.13  
 8 FOX V6/V8     2          4  1.7   
 9 FOX V6/V8     3          1  0.0556
10 FOX V6/V8     3          2  0.0556
# ℹ 102 more rows</code></pre>
</div>
</div>
<p>Como nosso banco de dados (<strong>dados2</strong>), contêm os valores médios de severidade de cada tratamento, cada bloco e cada tempo de avaliação, é possível, utilizando a função <code>AUDPC()</code> do pacote <strong>EPIFITTER</strong>, calcular a área abaixo da curva de progresso da doença (AACPD).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>aacpd1 <span class="ot">&lt;-</span> dados2 <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(treat, block) <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">aacpd =</span> <span class="fu">AUDPC</span>(assessment, sev.med))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>aacpd <span class="ot">&lt;-</span> aacpd1 <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(<span class="at">col =</span> treat, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">'Fator1'</span>, <span class="st">'Fator2'</span>), <span class="at">sep =</span> <span class="st">' '</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>aacpd2 <span class="ot">&lt;-</span> aacpd <span class="sc">|&gt;</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a> <span class="fu">mutate</span>(<span class="at">Fator2=</span> <span class="fu">ifelse</span>(Fator1 <span class="sc">==</span> <span class="st">'TESTEMUNHA'</span>, <span class="dv">0</span>, Fator2))</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>aacpd2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 × 4
   Fator1 Fator2   block aacpd
   &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
 1 FOX    V6/V8        1  5.66
 2 FOX    V6/V8        2  3.11
 3 FOX    V6/V8        3  2.59
 4 FOX    V6/V8        4  2.82
 5 FOX    V6/V8+VT     1  1.83
 6 FOX    V6/V8+VT     2  2.23
 7 FOX    V6/V8+VT     3  2.82
 8 FOX    V6/V8+VT     4  3.32
 9 FOX    VT           1  3.36
10 FOX    VT           2  3.2 
# ℹ 18 more rows</code></pre>
</div>
</div>
</section>
<section id="premissas" class="level3">
<h3 class="anchored" data-anchor-id="premissas">Premissas</h3>
<p>P-valores &gt; 0,05! Sinal verde para prosseguir com a análise paramétrica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(aacpd <span class="sc">~</span> Fator1<span class="sc">*</span>Fator2 <span class="sc">+</span> block, <span class="at">data =</span> aacpd2)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">check_normality</span>(m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OK: residuals appear as normally distributed (p = 0.335).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check_heteroscedasticity</span>(m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OK: Error variance appears to be homoscedastic (p = 0.336).</code></pre>
</div>
</div>
</section>
<section id="anova-e-teste-de-tukey" class="level3">
<h3 class="anchored" data-anchor-id="anova-e-teste-de-tukey">Anova e teste de Tukey</h3>
<p>A função que iremos utilizar a seguir se chama <code>fat2.ad.dbc()</code>, do pacote <strong>ExpDes.pt</strong>. Essa função é dedicada a análise de dados onde o delinemaento adotado foi em blocos ao acaso em esquema fatorial 3x2 + 1. Para saber mais sobre a função e o sobre o pacote, execute no console os comandos: <code>?fat2.ad.dbc</code>, para ajuda da função e <code>??ExpDes.pt</code>, para informações sobre o pacote.</p>
<p>Antes de executar a função, devemos organizar os dados separando em dois dataframes. Os dados referente ao fatorial e os dados referente ao tratamento adicional. Em seguida, podemos preencher os argumentos da função como no código.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estruturando banco de dados</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>aacpd <span class="ot">&lt;-</span> aacpd <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">treat.ad =</span> <span class="fu">ifelse</span>(Fator1 <span class="sc">==</span> <span class="st">'TESTEMUNHA'</span>, Fator1, <span class="cn">NA</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Fator1 =</span> <span class="fu">ifelse</span>(Fator1 <span class="sc">==</span> <span class="st">'TESTEMUNHA'</span>, <span class="cn">NA</span>, Fator1))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>fatorial <span class="ot">&lt;-</span> aacpd <span class="sc">|&gt;</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Fator1))</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>treat.ad <span class="ot">&lt;-</span> aacpd <span class="sc">|&gt;</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(treat.ad <span class="sc">==</span> <span class="st">'TESTEMUNHA'</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Rodando od testes</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="fu">fat2.ad.dbc</span>(<span class="at">fator1 =</span> fatorial<span class="sc">$</span>Fator1, <span class="at">fator2 =</span> fatorial<span class="sc">$</span>Fator2, <span class="at">bloco =</span> fatorial<span class="sc">$</span>block, <span class="at">resp =</span> fatorial<span class="sc">$</span>aacpd, <span class="at">respAd =</span> treat.ad<span class="sc">$</span>aacpd, <span class="at">fac.names =</span> <span class="fu">c</span>(<span class="st">'Fungicidas'</span>, <span class="st">'Estádios'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>------------------------------------------------------------------------
Legenda:
FATOR 1:  Fungicidas 
FATOR 2:  Estádios 
------------------------------------------------------------------------

------------------------------------------------------------------------
Quadro da analise de variancia
------------------------------------------------------------------------
                    GL       SQ       QM      Fc  Pr&gt;Fc
Bloco                3  8.46646  2.82215  2.1988 0.1234
Fungicidas           1  4.07917  4.07917  3.1782 0.0915
Estádios             2 32.75371 16.37686 12.7597  4e-04
Fungicidas*Estádios  2  1.03507  0.51754  0.4032  0.674
Ad vs Fatorial       1 27.96178 27.96178 21.7858  2e-04
Residuo             18 23.10271  1.28348               
Total               27 97.39890                        
------------------------------------------------------------------------
CV = 29.83 %

------------------------------------------------------------------------
Teste de normalidade dos residuos (Shapiro-Wilk)
valor-p:  0.3965633 
De acordo com o teste de Shapiro-Wilk a 5% de significancia, os residuos podem ser considerados normais.
------------------------------------------------------------------------

Contraste do tratamento adicional com o fatorial
------------------------------------------------------------------------
            Medias  
Adicional 6.245833 a
Fatorial  3.390046 b
------------------------------------------------------------------------

Interacao nao significativa: analisando os efeitos simples
------------------------------------------------------------------------
Fungicidas
De acordo com o teste F, as medias desse fator sao estatisticamente iguais.
------------------------------------------------------------------------
      Niveis   Medias
1        FOX 3.802315
2 PRIORIXTRA 2.977778
------------------------------------------------------------------------
Estádios
Teste de Tukey
------------------------------------------------------------------------
Grupos Tratamentos Medias
a    VT      4.80625 
a    V6/V8   3.41875 
 b   V6/V8+VT    1.945139 
------------------------------------------------------------------------</code></pre>
</div>
</div>
<p>Como resultado da ANOVA, identificamos que existe diferença significativa entre os níveis do fator Estádio de aplicação e tratamento adicional versus fatorial. Não houve diferença significativa entre os níveis do fator Fungicidas.</p>
<p>O teste de Tukey, aplicado sobre os níveis do fator estádio, indicou que realizando a aplicação dos fungicidas nos estádio V6/V8 e em VT é melhor do aplicar em V6/V8 ou em VT.</p>
<p>O teste anterior mostrou que existe diferença entre o fatorial versus o tratamento adicional. No entanto, ele não discriminou o tratamento adicional versus a combinação dos níveis dos dois fatores. Dessa forma, adotamos o teste de Dunnett para conseguir identificar quais foram os tratamentos estatisticamente diferentes da testemunha.</p>
</section>
<section id="teste-de-dunnett" class="level3">
<h3 class="anchored" data-anchor-id="teste-de-dunnett">Teste de Dunnett</h3>
<p>O teste de Dunnet é um teste adotado quando se deseja comparar as médias dos tratamentos contra a média de um tratamento de interesse. No nosso caso, confrontamos contra o tratamento testemunha.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dunnett</span>(<span class="at">trat =</span> aacpd1<span class="sc">$</span>treat, <span class="at">resp =</span> aacpd1<span class="sc">$</span>aacpd, <span class="at">control =</span> <span class="st">'TESTEMUNHA'</span>, <span class="at">model =</span> <span class="st">'DBC'</span>, <span class="at">block =</span> aacpd1<span class="sc">$</span>block)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                     Estimate    IC-lwr     IC-upr t value
TESTEMUNHA  -  FOX V6/V8           -2.7027778 -4.970610 -0.4349456 -3.3739
TESTEMUNHA  -  FOX V6/V8+VT        -3.6944444 -5.962277 -1.4266122 -4.6118
TESTEMUNHA  -  FOX VT              -0.9333333 -3.201166  1.3344989 -1.1651
TESTEMUNHA  -  PRIORIXTRA V6/V8    -2.9513889 -5.219221 -0.6835567 -3.6842
TESTEMUNHA  -  PRIORIXTRA V6/V8+VT -4.9069444 -7.174777 -2.6391122 -6.1254
TESTEMUNHA  -  PRIORIXTRA VT       -1.9458333 -4.213666  0.3219989 -2.4290
                                   p-value sig
TESTEMUNHA  -  FOX V6/V8            0.0163   *
TESTEMUNHA  -  FOX V6/V8+VT         0.0012   *
TESTEMUNHA  -  FOX VT               0.7138  ns
TESTEMUNHA  -  PRIORIXTRA V6/V8     0.0085   *
TESTEMUNHA  -  PRIORIXTRA V6/V8+VT  0.0000   *
TESTEMUNHA  -  PRIORIXTRA VT        0.1090  ns</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Alternativa-2_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Percebemos que exceto os tratamentos PRIORI XTRA VT e FOX VT, todos os tratamentos foram significativos contra a testemunha sem aplicação.</p>
</section>
</section>
<section id="y-máx" class="level2">
<h2 class="anchored" data-anchor-id="y-máx">Y máx</h2>
<p>A partir de agora, o processo é semelhante para as demais variáveis.</p>
<section id="ajuste-dos-dados-1" class="level3">
<h3 class="anchored" data-anchor-id="ajuste-dos-dados-1">Ajuste dos dados</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>y.max1 <span class="ot">&lt;-</span> dados2 <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(assessment <span class="sc">==</span> <span class="dv">4</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>y.max1<span class="sc">$</span>sev.med <span class="ot">&lt;-</span> <span class="fu">round</span>(y.max1<span class="sc">$</span>sev.med, <span class="dv">2</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>y.max <span class="ot">&lt;-</span> y.max1 <span class="sc">|&gt;</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(<span class="at">col =</span> treat, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">'Fator1'</span>, <span class="st">'Fator2'</span>), <span class="at">sep =</span> <span class="st">' '</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>y.max <span class="ot">&lt;-</span> y.max <span class="sc">|&gt;</span> </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">treat.ad =</span> <span class="fu">ifelse</span>(Fator1 <span class="sc">==</span> <span class="st">'TESTEMUNHA'</span>, Fator1, <span class="cn">NA</span>))</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>y.max <span class="ot">&lt;-</span> y.max <span class="sc">|&gt;</span> </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Fator1 =</span> <span class="fu">ifelse</span>(Fator1 <span class="sc">==</span> <span class="st">'TESTEMUNHA'</span>, <span class="cn">NA</span>, Fator1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="premissas-1" class="level3">
<h3 class="anchored" data-anchor-id="premissas-1">Premissas</h3>
<p>Premissas atendidas!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>y.max.pre <span class="ot">&lt;-</span> y.max <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>treat.ad, <span class="sc">-</span>assessment) <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Fator1 =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Fator1), <span class="st">'TESTEMUNHA'</span>, Fator1)) <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Fator2 =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Fator2), <span class="dv">0</span>, Fator2))</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(sev.med <span class="sc">~</span> Fator1<span class="sc">*</span>Fator2 <span class="sc">+</span> block, y.max.pre)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">check_normality</span>(m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OK: residuals appear as normally distributed (p = 0.788).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check_heteroscedasticity</span>(m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OK: Error variance appears to be homoscedastic (p = 0.377).</code></pre>
</div>
</div>
</section>
<section id="anova-e-teste-de-tukey-1" class="level3">
<h3 class="anchored" data-anchor-id="anova-e-teste-de-tukey-1">Anova e teste de Tukey</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>fator.y <span class="ot">&lt;-</span> y.max <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!-</span><span class="fu">is.na</span>(Fator1))</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>treat.ad.y <span class="ot">&lt;-</span> y.max <span class="sc">|&gt;</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!-</span><span class="fu">is.na</span>(treat.ad))</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="fu">fat2.ad.dbc</span>(<span class="at">fator1 =</span> fator.y<span class="sc">$</span>Fator1, <span class="at">fator2 =</span> fator.y<span class="sc">$</span>Fator2, <span class="at">bloco =</span> fator.y<span class="sc">$</span>block, <span class="at">resp =</span> fator.y<span class="sc">$</span>sev.med, <span class="at">respAd =</span> treat.ad.y<span class="sc">$</span>sev.med, <span class="at">fac.names =</span> <span class="fu">c</span>(<span class="st">'Fungicidas'</span>, <span class="st">'Estádios'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>------------------------------------------------------------------------
Legenda:
FATOR 1:  Fungicidas 
FATOR 2:  Estádios 
------------------------------------------------------------------------

------------------------------------------------------------------------
Quadro da analise de variancia
------------------------------------------------------------------------
                    GL        SQ       QM      Fc  Pr&gt;Fc
Bloco                3  50.17521 16.72507  4.3367 0.0182
Fungicidas           1   1.94940   1.9494  0.5055 0.4862
Estádios             2  74.27776 37.13888  9.6298 0.0014
Fungicidas*Estádios  2   9.73687  4.86844  1.2623 0.3069
Ad vs Fatorial       1  54.06006 54.06006 14.0173 0.0015
Residuo             18  69.41976  3.85665               
Total               27 259.61907                        
------------------------------------------------------------------------
CV = 34.86 %

------------------------------------------------------------------------
Teste de normalidade dos residuos (Shapiro-Wilk)
valor-p:  0.2531165 
De acordo com o teste de Shapiro-Wilk a 5% de significancia, os residuos podem ser considerados normais.
------------------------------------------------------------------------

Contraste do tratamento adicional com o fatorial
------------------------------------------------------------------------
            Medias  
Adicional 9.037500 a
Fatorial  5.066667 b
------------------------------------------------------------------------

Interacao nao significativa: analisando os efeitos simples
------------------------------------------------------------------------
Fungicidas
De acordo com o teste F, as medias desse fator sao estatisticamente iguais.
------------------------------------------------------------------------
      Niveis   Medias
1        FOX 5.351667
2 PRIORIXTRA 4.781667
------------------------------------------------------------------------
Estádios
Teste de Tukey
------------------------------------------------------------------------
Grupos Tratamentos Medias
a    VT      7.34625 
 b   V6/V8   4.79 
 b   V6/V8+VT    3.06375 
------------------------------------------------------------------------</code></pre>
</div>
</div>
<p>Como resultado da ANOVA, identificamos diferença significativa também entre os níveis do fator Estádio e do tratamento adicional versus o fatorial. Não houve diferença significativa entre os níveis do fator Fungicida sobre a variável de intensidade máxima (Ymax).</p>
<p>O teste de Tukey indicou que entre os níveis do fator Estádio, as aplicaçãoes em V6/V8 e em V6/V8 + VT é melhor do que fazer uma única aplicação em VT.</p>
</section>
<section id="teste-de-dunnett-1" class="level3">
<h3 class="anchored" data-anchor-id="teste-de-dunnett-1">Teste de Dunnett</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dunnett</span>(<span class="at">trat =</span> y.max1<span class="sc">$</span>treat, <span class="at">resp =</span> y.max1<span class="sc">$</span>sev.med, <span class="at">control =</span> <span class="st">'TESTEMUNHA'</span>, <span class="at">model =</span> <span class="st">'DBC'</span>, <span class="at">block =</span> y.max1<span class="sc">$</span>block)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                   Estimate     IC-lwr     IC-upr t value
TESTEMUNHA  -  FOX V6/V8            -4.8250  -8.751076 -0.8989239 -3.4746
TESTEMUNHA  -  FOX V6/V8+VT         -5.0325  -8.958576 -1.1064239 -3.6240
TESTEMUNHA  -  FOX VT               -1.2000  -5.126076  2.7260761 -0.8642
TESTEMUNHA  -  PRIORIXTRA V6/V8     -3.6700  -7.596076  0.2560761 -2.6429
TESTEMUNHA  -  PRIORIXTRA V6/V8+VT  -6.9150 -10.841076 -2.9889239 -4.9797
TESTEMUNHA  -  PRIORIXTRA VT        -2.1825  -6.108576  1.7435761 -1.5717
                                   p-value sig
TESTEMUNHA  -  FOX V6/V8            0.0130   *
TESTEMUNHA  -  FOX V6/V8+VT         0.0095   *
TESTEMUNHA  -  FOX VT               0.8905  ns
TESTEMUNHA  -  PRIORIXTRA V6/V8     0.0725  ns
TESTEMUNHA  -  PRIORIXTRA V6/V8+VT  0.0006   *
TESTEMUNHA  -  PRIORIXTRA VT        0.4460  ns</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Alternativa-2_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Como resultado do teste de Dunnett, os tratamentos PRIORI XTRA V6/V8+VT, FOX V6/V8+VT e FOX V6/V8 apresentaram diferença significativa da testemunha.</p>
</section>
</section>
<section id="produtividade" class="level2">
<h2 class="anchored" data-anchor-id="produtividade">PRODUTIVIDADE</h2>
<section id="ajuste-dos-dados-2" class="level3">
<h3 class="anchored" data-anchor-id="ajuste-dos-dados-2">Ajuste dos dados</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>produtividade <span class="ot">&lt;-</span> dados <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Fator1, Fator2, treat.ad, block, productivity)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>trat.ad <span class="ot">&lt;-</span> produtividade <span class="sc">|&gt;</span> </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(treat.ad <span class="sc">==</span> <span class="st">'TESTEMUNHA'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(productivity)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>fatorial <span class="ot">&lt;-</span> produtividade <span class="sc">|&gt;</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Fator1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="premissas-2" class="level3">
<h3 class="anchored" data-anchor-id="premissas-2">Premissas</h3>
<p>Premissas atendidas!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>prod.pre <span class="ot">&lt;-</span> produtividade <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>treat.ad) <span class="sc">|&gt;</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Fator1 =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Fator1), <span class="st">'TESTEMUNHA'</span>, Fator1)) <span class="sc">|&gt;</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Fator2 =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Fator2), <span class="dv">0</span>, Fator2))</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>m3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(productivity <span class="sc">~</span> Fator1<span class="sc">*</span>Fator2 <span class="sc">+</span> block, prod.pre)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="fu">check_normality</span>(m3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OK: residuals appear as normally distributed (p = 0.197).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check_heteroscedasticity</span>(m3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OK: Error variance appears to be homoscedastic (p = 0.516).</code></pre>
</div>
</div>
</section>
<section id="anova-e-teste-de-tukey-2" class="level3">
<h3 class="anchored" data-anchor-id="anova-e-teste-de-tukey-2">Anova e teste de Tukey</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fat2.ad.dbc</span>(<span class="at">fator1 =</span> fatorial<span class="sc">$</span>Fator1, <span class="at">fator2 =</span> fatorial<span class="sc">$</span>Fator2, <span class="at">bloco =</span> fatorial<span class="sc">$</span>block, <span class="at">resp =</span> fatorial<span class="sc">$</span>productivity, <span class="at">respAd =</span> trat.ad<span class="sc">$</span>productivity, <span class="at">fac.names =</span> <span class="fu">c</span>(<span class="st">'Fungicidas'</span>, <span class="st">'Estádios'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>------------------------------------------------------------------------
Legenda:
FATOR 1:  Fungicidas 
FATOR 2:  Estádios 
------------------------------------------------------------------------

------------------------------------------------------------------------
Quadro da analise de variancia
------------------------------------------------------------------------
                    GL        SQ       QM     Fc  Pr&gt;Fc
Bloco                3  95.27103 31.75701 1.3821 0.2803
Fungicidas           1   0.10544  0.10544 0.0046 0.9467
Estádios             2   6.39422  3.19711 0.1391  0.871
Fungicidas*Estádios  2   6.57066  3.28533  0.143 0.8677
Ad vs Fatorial       1   1.64647  1.64647 0.0717  0.792
Residuo             18 413.59904 22.97772              
Total               27 523.58686                       
------------------------------------------------------------------------
CV = 10.52 %

------------------------------------------------------------------------
Teste de normalidade dos residuos (Shapiro-Wilk)
valor-p:  0.6858194 
De acordo com o teste de Shapiro-Wilk a 5% de significancia, os residuos podem ser considerados normais.
------------------------------------------------------------------------

Contraste do tratamento adicional com o fatorial
------------------------------------------------------------------------
De acordo com o teste F, as medias dos dois grupos sao estatisticamente iguais.
            Medias
Adicional 44.97452
Fatorial  45.66750
------------------------------------------------------------------------

Interacao nao significativa: analisando os efeitos simples
------------------------------------------------------------------------
Fungicidas
De acordo com o teste F, as medias desse fator sao estatisticamente iguais.
------------------------------------------------------------------------
       Niveis   Medias
1         FOX 45.60122
2 PRIORI XTRA 45.73378
------------------------------------------------------------------------
Estádios
De acordo com o teste F, as medias desse fator sao estatisticamente iguais.
------------------------------------------------------------------------
      Niveis   Medias
1      V6/V8 45.04767
2 V6/V8 + VT 46.31132
3         VT 45.64350
------------------------------------------------------------------------</code></pre>
</div>
</div>
<p>Sobre a variável produtividade, não houve diferença significativa para os fatores, para a interação e nem para o fatorial versus tratamento adicional. De maneira geral, não existe ganhos em produtividade quando se adota os tratamentos. A análise pode ser finalizada aqui para esta variável. Entretando para visualizar isso graficamente vamos realizar o teste de Dunnett.</p>
</section>
<section id="teste-de-dunnett-2" class="level3">
<h3 class="anchored" data-anchor-id="teste-de-dunnett-2">Teste de Dunnett</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>produtividade2 <span class="ot">&lt;-</span> produtividade <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Fator1 =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Fator1), <span class="st">'TESTEMUNHA'</span>, Fator1 )) <span class="sc">|&gt;</span> </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="at">col =</span> treat, Fator1, Fator2, <span class="at">sep =</span> <span class="st">' '</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dunnett</span>(<span class="at">trat =</span> produtividade2<span class="sc">$</span>treat, <span class="at">resp =</span> produtividade2<span class="sc">$</span>productivity, <span class="at">control =</span> <span class="st">'TESTEMUNHA'</span>, <span class="at">model =</span> <span class="st">'DBC'</span>, <span class="at">block =</span> produtividade2<span class="sc">$</span>block)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                        Estimate     IC-lwr    IC-upr t value
TESTEMUNHA  -  FOX V6/V8              -0.7009225 -10.295307  8.893462 -0.2068
TESTEMUNHA  -  FOX V6/V8 + VT          1.4375000  -8.156885 11.031885  0.4241
TESTEMUNHA  -  FOX VT                  1.1435200  -8.450865 10.737905  0.3374
TESTEMUNHA  -  PRIORI XTRA V6/V8       0.8472225  -8.747162 10.441607  0.2500
TESTEMUNHA  -  PRIORI XTRA V6/V8 + VT  1.2361125  -8.358272 10.830497  0.3647
TESTEMUNHA  -  PRIORI XTRA VT          0.1944475  -9.399937  9.788832  0.0574
                                      p-value sig
TESTEMUNHA  -  FOX V6/V8               0.9999  ns
TESTEMUNHA  -  FOX V6/V8 + VT          0.9958  ns
TESTEMUNHA  -  FOX VT                  0.9988  ns
TESTEMUNHA  -  PRIORI XTRA V6/V8       0.9998  ns
TESTEMUNHA  -  PRIORI XTRA V6/V8 + VT  0.9981  ns
TESTEMUNHA  -  PRIORI XTRA VT          1.0000  ns</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Alternativa-2_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Como já era sabido. Não há diferença da combinação dos níveis dos dois fatores versus a testemunha.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>